Version 4
SHEET 1 900 1580
WIRE 288 -32 256 -32
WIRE -256 16 -400 16
WIRE -144 16 -256 16
WIRE 0 16 -144 16
WIRE 128 16 80 16
WIRE 176 16 176 -32
WIRE 176 16 128 16
WIRE 640 16 576 16
WIRE -144 32 -144 16
WIRE -400 48 -400 16
WIRE -256 48 -256 16
WIRE 128 64 128 16
WIRE 176 64 128 64
WIRE 576 64 576 16
WIRE 288 80 288 -32
WIRE 288 80 240 80
WIRE 352 80 288 80
WIRE 176 96 128 96
WIRE 0 112 -32 112
WIRE 128 112 128 96
WIRE 128 112 80 112
WIRE -144 128 -144 112
WIRE -96 128 -144 128
WIRE -32 128 -32 112
WIRE -32 128 -96 128
WIRE 128 144 128 112
WIRE 208 144 208 112
WIRE -144 160 -144 128
WIRE 576 176 576 144
WIRE -256 240 -256 128
WIRE 128 256 128 224
WIRE 736 288 672 288
WIRE -256 304 -256 240
WIRE 288 304 -256 304
WIRE 736 336 736 288
WIRE 224 352 192 352
WIRE -256 400 -256 304
WIRE -64 400 -256 400
WIRE 64 400 16 400
WIRE 112 400 112 352
WIRE 112 400 64 400
WIRE 64 448 64 400
WIRE 112 448 64 448
WIRE 736 448 736 416
WIRE 736 448 672 448
WIRE 224 464 224 352
WIRE 224 464 176 464
WIRE 288 464 224 464
WIRE 112 480 64 480
WIRE -256 496 -256 480
WIRE -64 496 -256 496
WIRE 64 496 64 480
WIRE 64 496 16 496
WIRE 64 528 64 496
WIRE 144 528 144 496
WIRE -256 608 -256 496
WIRE 64 640 64 608
WIRE 224 656 192 656
WIRE -256 704 -256 608
WIRE -64 704 -256 704
WIRE 64 704 16 704
WIRE 112 704 112 656
WIRE 112 704 64 704
WIRE 64 752 64 704
WIRE 112 752 64 752
WIRE 224 768 224 656
WIRE 224 768 176 768
WIRE 288 768 224 768
WIRE 112 784 64 784
WIRE -256 800 -256 784
WIRE -64 800 -256 800
WIRE 64 800 64 784
WIRE 64 800 16 800
WIRE 64 832 64 800
WIRE 144 832 144 800
WIRE -256 912 -256 800
WIRE 64 944 64 912
WIRE 224 1008 192 1008
WIRE -256 1056 -256 912
WIRE -64 1056 -256 1056
WIRE 64 1056 16 1056
WIRE 112 1056 112 1008
WIRE 112 1056 64 1056
WIRE 64 1104 64 1056
WIRE 112 1104 64 1104
WIRE 224 1120 224 1008
WIRE 224 1120 176 1120
WIRE 288 1120 224 1120
WIRE 112 1136 64 1136
WIRE -256 1152 -256 1136
WIRE -240 1152 -256 1152
WIRE -64 1152 -240 1152
WIRE 64 1152 64 1136
WIRE 64 1152 16 1152
WIRE 64 1184 64 1152
WIRE 144 1184 144 1152
WIRE -256 1248 -256 1152
WIRE 64 1296 64 1264
FLAG 128 256 0
FLAG 208 144 0
FLAG 576 176 0
FLAG 640 16 Vcc
FLAG 208 48 Vcc
FLAG 64 640 0
FLAG 144 528 0
FLAG 144 432 Vcc
FLAG -400 48 0
FLAG 64 944 0
FLAG 144 832 0
FLAG 144 736 Vcc
FLAG 64 1296 0
FLAG 144 1184 0
FLAG 144 1088 Vcc
FLAG -256 240 cell1_v
FLAG -256 608 cell2_v
FLAG -256 912 cell3_v
FLAG -240 1152 cell4_v
FLAG 352 80 adc_shunt
FLAG 288 464 adc2
FLAG 288 768 adc3
FLAG 288 1120 adc4
FLAG -144 160 BATT_NEG
FLAG -256 1248 BATT_POS
FLAG 288 304 adc1
FLAG 672 448 BATT_NEG
FLAG 672 288 BATT_POS
FLAG -96 128 Vshunt
SYMBOL OpAmps\\LT1014 208 16 R0
SYMATTR InstName U1
SYMBOL res 96 0 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 24.24K
SYMBOL res 96 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 24.24KK
SYMBOL res 272 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 20k
SYMBOL res 112 128 R0
SYMATTR InstName R4
SYMATTR Value 20k
SYMBOL voltage -256 144 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 3.0
SYMBOL voltage 576 48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL OpAmps\\LT1014 144 400 R0
SYMATTR InstName U2
SYMBOL res 32 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 24.24K
SYMBOL res 32 480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 24.24K
SYMBOL res 208 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 20k
SYMBOL res 48 512 R0
SYMATTR InstName R8
SYMATTR Value 20k
SYMBOL voltage -256 496 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 3.0
SYMBOL OpAmps\\LT1014 144 704 R0
SYMATTR InstName U3
SYMBOL res 32 688 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 24.24K
SYMBOL res 32 784 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 24.24K
SYMBOL res 208 640 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 20k
SYMBOL res 48 816 R0
SYMATTR InstName R12
SYMATTR Value 20k
SYMBOL voltage -256 800 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value 3.0
SYMBOL OpAmps\\LT1014 144 1056 R0
SYMATTR InstName U4
SYMBOL res 32 1040 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 24.24K
SYMBOL res 32 1136 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 24.24K
SYMBOL res 208 992 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 20k
SYMBOL res 48 1168 R0
SYMATTR InstName R16
SYMATTR Value 20k
SYMBOL voltage -256 1152 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 3.0
SYMBOL res -160 16 R0
SYMATTR InstName R17
SYMATTR Value 0.1
SYMATTR SpiceLine pwr=10W
SYMBOL res 720 320 R0
SYMATTR InstName R_load
SYMATTR Value {RL}
TEXT 520 512 Left 2 !.include nat_semi.lib
TEXT 520 552 Left 2 !.step param RL 0.2 12 0.1\n.op
